<html>
<head>
	<title>Test Project</title>
</head>
<body>

<script src="js/sprite.js"></script>
<script src="js/input.js"></script>

<canvas width=512 height=512 id="canvas"></canvas>

<img src = "images/ball.png" id = "ball" hidden>
<img src = "images/discord.png" id = "discord" hidden>
<img src = "images/dreamshield.png" id = "dream" hidden>
<img src = "images/kirball.png" id = "kirball" hidden>
<img src = "images/metroid.png" id = "metroid" hidden>
<img src = "images/one-up.png" id = "one-up" hidden>
<img src = "images/pokeball.png" id = "pokeball" hidden>
<img src = "images/sans.png" id = "sans" hidden>
<img src = "images/slime.png" id = "slime" hidden>
<img src = "images/sonic.png" id = "sonic" hidden>

<script>


// =================================================

let input = new Input();


// Set up our canvas and Graphics Context.
let canvas = document.getElementById("canvas");
let context = canvas.getContext("2d");

// Math.random() -- random decimal number between 0.0 and 1.0
// Create each respective Sprite at a random starting position, and set its size and velocity.



let kirbSprite  = new Sprite(450 * Math.random(), 450 * Math.random(), "kirball");
kirbSprite.setSize(50,50);
kirbSprite.setVelocity(0,0);

// Create the array spriteArray, and push each Sprite into the array to be instantiated.
let spriteArray = [];
spriteArray.push(kirbSprite);

function update()
{
	for (let i = 0; i < spriteArray.length; i++)
	{
		spriteArray[i].update();
	}


	if ( input.isKeyPressed("ArrowUp") )
	{
		kirbSprite.y -= 1;
	}
	if ( input.isKeyPressed("ArrowDown") )
	{
		kirbSprite.y += 1;
	}

	console.log("Keys:")
	console.log(input)
}

function render()
{
	// Clear the screen with the following color, and create a stroke around the canvas. 
	context.fillStyle = "#ADD8E6"
	context.fillRect(0,0, 512,512);
	context.strokeRect(0, 0, 512, 512);

	for (let i = 0; i < spriteArray.length; i++)
	{
		spriteArray[i].render(context);
	}
}

function loop()
{
	// Call all of our functions in order, then recall this function again.
	update();
	render();
	requestAnimationFrame(loop);
}

// Start the program.
loop();

</script>

</body>
</html>